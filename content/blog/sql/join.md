---
title: SQL 개념 익히기 - JOIN
date: "2022-02-03T18:56:00.000Z"
template: "blog"
draft: false
slug: "/blog/sql_join/"
category: "sql"
description: "DB 지식이 부족한 본인을 위한 개념정리"
---


## JOIN
### JOIN이란?
두개 이상의 테이블을 결합하여 데이터를 검색하는 방법   
즉 두개의 테이블을 하나의 테이블인 것 처럼 보여지게 한다.   
보통 `Primary key`와 `Foreign key`를 활용하여 테이블을 연결한다.
사용 조건은 두개의 테이블 중 적어도 하나의 공통된 컬럼이 존재하여야 하며 해당 컬럼의 값은 공유되어야 한다.
### JOIN 종류
#### INNER JOIN
교집합 개념의 JOIN, 기준 테이블과 JOIN 한 테이블의 중복값을 출력한다.   
즉 두 테이블이 모두 가지고 있는 데이터만 검색이 가능하다.
```sql
SELECT 
    테이블별칭.조회할컬럼,
    테이블별칭.조회할컬럼,
FROM 기준테이블 별칭
INNER JOIN 조인테이블 별칭 ON 기준테이블별칭.기준키 = 조인테이블별칭 기준키
```
#### LEFT OUTER JOIN
기준 테이블 값 + 테이블과 기준 테이블의 중복된 값이다.    
(왼쪽 테이블)  + (오른쪽) `(왼쪽 테이블 기준으로 JOIN)`
 ```sql
SELECT 
    테이블별칭.조회할컬럼,
    테이블별칭.조회할컬럼,
FROM 기준테이블 별칭
LEFT OUTER JOIN 조인테이블 별칭 ON 기준테이블별칭.기준키 = 조인테이블별칭 기준키
```
#### RIGHT OUTER JOIN
LEFT OUTER JOIN의 반대개념이다.   
`우측 테이블이 기준` 테이블이고 기준 테이블 기준으로 `우측 테이블과 좌측 테이블의 중복된 값`이 검색된다.
 ```sql
SELECT 
    테이블별칭.조회할컬럼,
    테이블별칭.조회할컬럼,
FROM 기준테이블 별칭
RIGHT OUTER JOIN 조인테이블 별칭 ON 기준테이블별칭.기준키 = 조인테이블별칭 기준키
```
#### FULL OUTER JOIN
합집합의 개념이다. 좌측 및 우측 테이블이 가지고 있는 데이터 모두 검색된다.
 ```sql
SELECT 
    테이블별칭.조회할컬럼,
    테이블별칭.조회할컬럼,
FROM 기준테이블 별칭
FULL OUTER JOIN 조인테이블 별칭 ON 기준테이블별칭.기준키 = 조인테이블별칭 기준키
```
#### CROSS JOIN
모든 경우의 수를 전부 표현해주는 방식이다.   
한 쪽 테이블의 모든 행과 다른 테이블의 모든 행을 조인하여 검색된다. `(논리곱 개념)`   
예를 들어 테이블1 데이터 5개 테이블2 데이터 4개가 있다면 총 20개가 검색되어 나온다.   
데이터 양에 따라 용량이 초과되거나 서버가 다운될 수 있다.
 ```sql
SELECT 
    테이블별칭.조회할컬럼,
    테이블별칭.조회할컬럼,
FROM 기준테이블 별칭
CROSS JOIN 조인테이블 별칭

SELECT
    테이블별칭.조회할칼럼,
    테이블별칭.조회할칼럼
FROM 기준테이블 별칭,조인테이블 별칭
```
#### SELF JOIN
자기 자신과 자기 자신을 조인한다는 의미이다. 즉, `하나의 테이블을 여러번 복사해서 조인`한다고 생각하면 된다. 자신이 가지고 있는 컬럼을 다양하게 변형시켜 활용할 때 자주 사용된다.
 ```sql
SELECT 
    테이블별칭.조회할컬럼,
    테이블별칭.조회할컬럼,
FROM 테이블 별칭1, 테이블 별칭2
```
### Subquery와 JOIN의 차이
서브쿼리의 경우 메인 쿼리에 종속되는 관계이며 조인은 두 테이블이 평등한 관계이다.   
서브쿼리의 경우 직관적이나 일반적인 상황에선 위와 같은 이유로 조인보다 효율성이 떨어진다.

## 참고 사이트
https://coding-factory.tistory.com/87